.modal-content
  .modal-header
    %button.close{"aria-hidden" => "true", "data-dismiss" => "modal", type: "button"} Ã—
    %h4.modal-title= t'new_address'
  .modal-body
    = simple_form_for @address, remote: true do |f|

      - value = params[:addressable_type].nil? ? {} : { value: params[:addressable_type] }
      = f.input :addressable_type, input_html: {}.merge(value), as: :hidden

      - value = params[:addressable_id].nil? ? {} : { value: params[:addressable_id] }
      = f.input :addressable_id, input_html: {}.merge(value), as: :hidden
      - if current_user.editable_addresses.any?
        = f.input :existing_address, as: :radio_buttons, collection: [t("create_new_address"), t("add_existing_address")], checked: t("create_new_address"), label: false
        .js-dependent-fields{data: {radio: {name: 'address[existing_address]', value: t("add_existing_address")}}}
          = f.input :address_id, collection: current_user.editable_addresses, :label_method => lambda { |m| m.long_name }, include_blank: false, input_html: { class: 'select2'}, label: false, selected: current_user.editable_addresses.first
        .js-dependent-fields{data: {radio: {name: 'address[existing_address]', value: t("create_new_address")}}}
          = render 'addresses/form_fields', f: f
      - else
        = render 'addresses/form_fields', f: f
      .modal-footer
        .btn.btn-primary.btn-labeled.fa.fa-remove{"data-dismiss" => "modal"}
          = t'cancel'
        = f.button :button, t('save'), id: 'submit', class: 'btn btn-success btn-labeled fa fa-check'
