.col-sm-3
  .detail_icon
    %i.fa.fa-home
  %h4= @location.long_name

  - if current_user.can_update?(@location)
    = @location.link_to_edit

  %h5.page-header= t('residents')
  %article.sidebar_module.residents
    %ul
      - if @residents.any?
        - @residents.each do |resident|
          = render resident.profile
      - else
        = t('no_residents_available')
    .clearfix


  %h5.page-header= t('devices')
  %article.sidebar_module.devices
    %ul
      - if @devices.any?
        - @devices.each do |device|
          = render device
      - else
        = t('no_devices_available')
    .clearfix


  %h5.page-header= t('address')
  %address
    = "#{@location.address.street_name} #{@location.address.street_number}"
    %br
    = "#{@location.address.zip} #{@location.address.city}"
    %br
    = @location.address.state


.col-sm-6
  %ul.nav.nav-pills#mytab.nav-spacer
    %li.active
      %a{"data-toggle" => "tab", href: "#metering_points"}
        = t'metering_points'
    %li
      %a{"data-toggle" => "tab", href: "#treeview"}
        = t'treeview'

  .tab-content
    #metering_points.tab-pane

  .tab-content
    #treeview.tab-pane.active
      #center-container
        #infovis
      #right-container
        %h4 Tree Orientation
        %table
          %tr
            %td
              %label{:for => "r-left"} Left
            %td
              %input#r-left{:checked => "checked", :name => "orientation", :type => "radio", :value => "left"}/
          %tr
            %td
              %label{:for => "r-top"} Top
            %td
              %input#r-top{:name => "orientation", :type => "radio", :value => "top"}/
          %tr
            %td
              %label{:for => "r-bottom"} Bottom
            %td
              %input#r-bottom{:name => "orientation", :type => "radio", :value => "bottom"}/
          %tr
            %td
              %label{:for => "r-right"} Right
            %td
              %input#r-right{:name => "orientation", :type => "radio", :value => "right"}/
        %h4 Selection Mode
        %table
          %tr
            %td
              %label{:for => "s-normal"} Normal
            %td
              %input#s-normal{:checked => "checked", :name => "selection", :type => "radio", :value => "normal"}/
          %tr
            %td
              %label{:for => "s-root"} Set as Root
            %td
              %input#s-root{:name => "selection", :type => "radio", :value => "root"}/
      #log

  - if @location.metering_point == nil
    = render 'no_metering_point'
  - else
    .metering_points
      = render @location.metering_point
      - @location.metering_point.children.each do |children|
        = render children.decorate

  - if current_user.can_update?(@location) && @location.metering_point.nil?
    = @location.new_metering_point



.col-sm-3
  %h5.page-header= t('explore')




