

#page-content
  .row
    .col-sm-12.col-md-12.col-lg-12.dashboard-chart{id: @dashboard.id, 'data-register-ids': @dashboard.dashboard_registers.collect{|m| m.register_id}.compact}
      %h1.page-header.text-overflow
        %span
          = t('dashboard')
          %small
            %i.small-info-circle.fa.fa-info-circle{'data-content' => t('dashboard_info')}
      - if @dashboard.registers.empty?
        .text-center= link_to(content_tag(:i, t('add_registers'), class: 'btn btn-default btn-rounded btn-labeled fa fa-plus new_register'), add_register_dashboard_path(@dashboard),{:remote => true,'data-toggle' => "modal", 'data-target' => '#myModal'})
      - else
        .panel
          .panel-body.panel-colorful.dashboard-background
            .btn-group.pull-right
              %button.btn.btn-block.btn-success.btn-labeled.fa.fa-bars.dropdown-toggle{"data-toggle" => "dropdown", type: "button"}
                = t('actions')
              %ul.dropdown-menu.dropdown-menu-right{role: "menu"}
                %li= link_to(t('add_registers'), add_register_dashboard_path(@dashboard),{:remote => true,'data-toggle' => "modal", 'data-target' => '#myModal'})
            .text-center
              /.btn.btn-default.btn-icon.btn-circle.icon-lg.btn-chart-zoomout.fa.fa-search-minus.fa-2x{disabled: "disabled"}
              .btn.btn-default.btn-chart-zoom-year{disabled: "disabled"}
                = t('year')
              .btn.btn-default.btn-chart-zoom-month{disabled: "disabled"}
                = t('month')
              .btn.btn-default.btn-chart-zoom-day{disabled: "disabled"}
                = t('day')
              .btn.btn-default.btn-chart-zoom-hour{disabled: "disabled"}
                = t('hour')
              / .btn.btn-default.btn-chart-zoom-live{disabled: "disabled"}
              /   = t('live')

            .btn.btn-default.btn-icon.btn-circle.icon-lg.btn-chart-prev.fa.fa-chevron-left.fa-2x{disabled: "disabled"}
            .btn.btn-default.btn-icon.btn-circle.icon-lg.btn-chart-next.pull-right.fa.fa-chevron-right.fa-2x{disabled: "disabled"}

            .chart{id: "chart-container-#{@dashboard.id}", style: "width: 94%; height: 300px; margin-left: 3%;"}
              - if @dashboard.registers.any?
                .waiting-spinner.fa.fa-spinner.fa-2x.fa-spin


    .registers
      = render partial: "registers/register_small", collection: @registers.decorate, as: :register


