---
swagger: '2.0'
info:
  title: Admin API
  description: Swagger for Admin Internal API
  version: '1'
basePath: "/api/admin"
paths:
  "/localpools":
    get:
      description: return all public localpools
      produces:
      - application/json
      responses:
        200:
          description: success
  "/localpools/{localpool_id}":
    get:
      description: returns the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/billing-cycles":
    post:
      description: creates a billing-cycles for the localpool
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: name
        in: formData
        required: true
        type: string
        format: ''
      - name: begin_date
        in: formData
        required: true
        type: string
        format: date
      - name: end_date
        in: formData
        required: true
        type: string
        format: date
      responses:
        201:
          description: created
  "/localpools/{localpool_id}/billing-cycles/{billing_cycle_id}":
    patch:
      description: updates the billing-cycles of the localpool
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: billing_cycle_id
        in: path
        required: true
        type: string
      - name: name
        in: formData
        required: false
        type: string
        format: ''
      - name: begin_date
        in: formData
        required: false
        type: string
        format: date
      - name: end_date
        in: formData
        required: false
        type: string
        format: date
      responses:
        200:
          description: patched
  "/localpools/{localpool_id}/billing-cycles/{billing_cycle_id}/billings":
    get:
      description: returns all billings of the billing-cycles for the given IDs
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: billing_cycle_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/billing-cycles/{billing_cycle_id}/billings/regular":
    post:
      description: creates a regular billings for billing-cycles
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: billing_cycle_id
        in: path
        required: true
        type: string
      - name: accounting_year
        in: formData
        required: true
        type: integer
        format: int64
      responses:
        201:
          description: created
  "/localpools/{localpool_id}/billing-cycles/{billing_cycle_id}/billings/{billing_1_id}":
    patch:
      description: updates the billing of the billing-cycles for the given IDs
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: billing_cycle_id
        in: path
        required: true
        type: string
      - name: billing_id
        in: path
        required: true
        type: string
      - name: receivables_cents
        in: formData
        required: false
        type: integer
        format: int64
      - name: invoice_number
        in: formData
        required: false
        type: string
        format: ''
      - name: status
        in: formData
        required: false
        type: string
        enum:
        - open
        - calculated
        - delivered
        - settled
        - closed
      responses:
        200:
          description: patched
  "/localpools/{localpool_id}/billing-cycles/{billing_cycle_id}/billings/{billing_2_id}":
    delete:
      description: deletes the billing of the billing-cycles for the given IDs
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: billing_cycle_id
        in: path
        required: true
        type: string
      - name: billing_id
        in: path
        required: true
        type: string
      responses:
        204:
          description: deleted
  "/localpools/{localpool_id}/bubbles":
    get:
      description: returns the bubbles of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/charts":
    get:
      description: returns the charts of the localpool
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: duration
        in: formData
        required: true
        type: string
        enum:
        - year
        - month
        - day
        - hour
      - name: timestamp
        in: formData
        required: false
        type: string
        format: date-time
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/contracts":
    get:
      description: returns all the contracts of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/contracts/{contract_id}":
    get:
      description: returns the contract for the given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: contract_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/contracts/{contract_id}/contractor":
    get:
      description: returns the contractor of the contract
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: contract_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/contracts/{contract_id}/customer":
    get:
      description: returns the customer of the contract
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: contract_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/localpool-processing-contract":
    get:
      description: returns the localpool-processing-contract of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/managers":
    get:
      description: returns all the managers of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/metering-point-operator-contract":
    get:
      description: returns the metering-point-operator-contract of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/meters":
    get:
      description: returns all the meters of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/meters/{meter_id}":
    get:
      description: returns the meters for the given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: meter_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/meters/{real_meter_id}":
    patch:
      description: updates the real meter for the given ID
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: real_meter_id
        in: path
        required: true
        type: string
      - name: manufacturer_name
        in: formData
        required: false
        type: string
        enum:
        - easy_meter
        - amperix
        - ferraris
        - other
      - name: manufacturer_product_name
        in: formData
        required: false
        type: string
        format: ''
      - name: manufacturer_product_serialnumber
        in: formData
        required: false
        type: string
        format: ''
      - name: metering_type
        in: formData
        required: false
        type: string
        enum:
        - analog_household_meter
        - smart_meter
        - load_meter
        - analog_ac_meter
        - digital_household_meter
        - maximum_meter
        - individual_adjustment
      - name: meter_size
        in: formData
        required: false
        type: string
        enum:
        - edl40
        - edl21
        - other_ehz
      - name: ownership
        in: formData
        required: false
        type: string
        enum:
        - buzzn_systems
        - foreign_ownership
        - customer
        - leased
        - bought
      - name: build_year
        in: formData
        required: false
        type: integer
        format: int64
      responses:
        200:
          description: patched
  "/localpools/{localpool_id}/meters/{virtual_meter_id}":
    patch:
      description: updates the virtual meter for the given ID
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: virtual_meter_id
        in: path
        required: true
        type: string
      - name: manufacturer_product_name
        in: formData
        required: false
        type: string
        format: ''
      - name: manufacturer_product_serialnumber
        in: formData
        required: false
        type: string
        format: ''
      - name: metering_type
        in: formData
        required: false
        type: string
        enum:
        - analog_household_meter
        - smart_meter
        - load_meter
        - analog_ac_meter
        - digital_household_meter
        - maximum_meter
        - individual_adjustment
      - name: meter_size
        in: formData
        required: false
        type: string
        enum:
        - edl40
        - edl21
        - other_ehz
      - name: ownership
        in: formData
        required: false
        type: string
        enum:
        - buzzn_systems
        - foreign_ownership
        - customer
        - leased
        - bought
      - name: build_year
        in: formData
        required: false
        type: integer
        format: int64
      responses:
        200:
          description: patched
  "/localpools/{localpool_id}/organizations":
    get:
      description: returns all the organizations of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/organizations/{organization_id}":
    get:
      description: returns the organization of the localpool for the given IDs
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: organization_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/organizations/{organization_id}/bank-accounts":
    get:
      description: returns all bank-accounts of the organization for the given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: organization_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/organizations/{organization_id}/bank-accounts/{bank_account_id}":
    get:
      description: returns the bank-accounts of the organization for the given IDs
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: organization_id
        in: path
        required: true
        type: string
      - name: bank_account_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/power-taker-contracts":
    get:
      description: returns all the power-taker-contracts of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/prices":
    post:
      description: create price for the localpool
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: name
        in: formData
        required: true
        type: string
        format: ''
      - name: begin_date
        in: formData
        required: true
        type: string
        format: date
      - name: energyprice_cents_per_kilowatt_hour
        in: formData
        required: true
        type: string
        format: float
      - name: baseprice_cents_per_month
        in: formData
        required: true
        type: integer
        format: int64
      responses:
        201:
          description: created
  "/localpools/{localpool_id}/prices/{price_id}":
    patch:
      description: updates the price of the localpool for the given IDs
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: price_id
        in: path
        required: true
        type: string
      - name: name
        in: formData
        required: false
        type: string
        format: ''
      - name: begin_date
        in: formData
        required: false
        type: string
        format: date
      - name: energyprice_cents_per_kilowatt_hour
        in: formData
        required: false
        type: string
        format: float
      - name: baseprice_cents_per_month
        in: formData
        required: false
        type: integer
        format: int64
      responses:
        200:
          description: patched
  "/localpools/{localpool_id}/registers":
    get:
      description: returns all registers
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/registers/{register_id}":
    get:
      description: returns the register for given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: register_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/registers/{register_id}/charts":
    get:
      description: returns the charts of the localpool
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: register_id
        in: path
        required: true
        type: string
      - name: duration
        in: formData
        required: true
        type: string
        enum:
        - year
        - month
        - day
        - hour
      - name: timestamp
        in: formData
        required: false
        type: string
        format: date-time
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/registers/{register_id}/ticker":
    get:
      description: returns the power ticker of the register
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: register_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/users":
    get:
      description: returns all the users of the localpool
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/users/{user_id}":
    get:
      description: returns the user of the localpool for the given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: user_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/users/{user_id}/bank-accounts":
    get:
      description: returns all bank-accounts of the user for the given ID
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: user_id
        in: path
        required: true
        type: string
      responses:
        200:
          description: success
  "/localpools/{localpool_id}/users/{user_id}/bank-accounts/{bank_account_id}":
    patch:
      description: updates the bank-accounts of the user for the given IDs
      consumes:
      - application/x-www-form-urlencoded
      produces:
      - application/json
      parameters:
      - name: localpool_id
        in: path
        required: true
        type: string
      - name: user_id
        in: path
        required: true
        type: string
      - name: bank_account_id
        in: path
        required: true
        type: string
      - name: bank_name
        in: formData
        required: false
        type: string
        format: ''
      - name: holder
        in: formData
        required: false
        type: string
        format: ''
      - name: iban
        in: formData
        required: false
        type: string
        format: iban
      responses:
        200:
          description: patched
